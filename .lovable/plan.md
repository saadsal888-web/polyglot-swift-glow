

# خطة: إصلاح التنقل للكلمات + عرض الوقت بالدقائق

## المشاكل الحالية

### 1. الضغط على "الكلمات" يحول مباشرة
حالياً عند الضغط على زر "الكلمات" في الصفحة الرئيسية:
```
Index → /words → WordsPractice (تلقائياً)
```
**المطلوب:** إظهار صفحة اختيار المستوى أولاً

### 2. الوقت في البانر يعرض بصيغة خاطئة
الـ hook فيه `formattedTimeMinutes` (MM:SS) لكن `Index.tsx` يستخدم `formattedTime`

---

## التغييرات المطلوبة

### 1. إنشاء صفحة اختيار مستوى الكلمات (`src/pages/Words.tsx`)

**قبل:**
```typescript
// يحول مباشرة لصفحة التدريب
navigate(`/words-practice/${userLevel}`, { replace: true });
```

**بعد:**
```
┌─────────────────────────────────────────┐
│  [←]         الكلمات                    │
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  A1 - مبتدئ                    │   │
│  │  250 كلمة                      │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  A2 - أساسي        🔒 Premium  │   │
│  │  300 كلمة                      │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │  B1 - متوسط        🔒 Premium  │   │
│  │  400 كلمة                      │   │
│  └─────────────────────────────────┘   │
│                                         │
└─────────────────────────────────────────┘
```

### 2. تعديل عرض الوقت في الصفحة الرئيسية (`src/pages/Index.tsx`)

**تغيير السطر 28:**
```typescript
// قبل
const { formattedTime, isTimeUp, hasAndroidApp } = usePremiumGate();

// بعد
const { formattedTimeMinutes, isTimeUp, hasAndroidApp } = usePremiumGate();
```

**تغيير السطر 208:**
```typescript
// قبل
<span dir="ltr" className="font-bold tabular-nums">⏱️ {formattedTime}</span>

// بعد
<span dir="ltr" className="font-bold tabular-nums">⏱️ {formattedTimeMinutes}</span>
```

---

## ملخص الملفات

| الملف | التغيير |
|-------|---------|
| `src/pages/Words.tsx` | إعادة تصميم لعرض قائمة المستويات بدل التحويل المباشر |
| `src/pages/Index.tsx` | استخدام `formattedTimeMinutes` بدل `formattedTime` |

---

## السلوك الجديد

```text
المستخدم يضغط "الكلمات":
├── يظهر صفحة اختيار المستوى (A1, A2, B1, B2...)
├── يختار المستوى المطلوب
└── ينتقل لـ /words-practice/{level}

الوقت في البانر:
├── يعرض بصيغة MM:SS (مثل: 29:45)
└── يعد تنازلياً من 30 دقيقة
```

