
# ุฎุทุฉ: ููู ูุฌุงูู ูุงูู + ุชุญุณูู ุดุงุดุฉ ุงูุงุดุชุฑุงู

## ููุฎุต ุงูุชุบููุฑุงุช
ุชุญููู ุงูุชุฌุฑุจุฉ ูู 5 ุฏูุงุฆู ุฅูู **ููู ูุงูู ูุฌุงูู** ูุน ุชุญุณูู ุดุงุดุฉ ุงูุชูุงุก ุงูููุช ูุฅุถุงูุฉ ุฑุณุงุฆู ุชุณููููุฉ.

---

## ุงูุชุบููุฑุงุช ุงููุทููุจุฉ

### 1. ุชุบููุฑ ูุฏุฉ ุงูุชุฌุฑุจุฉ ูู 5 ุฏูุงุฆู ุฅูู ููู ูุงูู

**ุงูููู:** `src/hooks/usePremiumGate.ts`

| ูุจู | ุจุนุฏ |
|-----|-----|
| `TRIAL_DURATION = 300` (5 ุฏูุงุฆู) | `TRIAL_DURATION = 86400` (24 ุณุงุนุฉ) |

ุฅุถุงูุฉ:
- ูุชุบูุฑ ุฌุฏูุฏ `isFirstDay` ููุชุญูู ูู ุงููุณุชุฎุฏู ูู ุฃูู ููู
- ุฏุงูุฉ `skipPayment()` ูุชุฎุทู ุงูุฏูุน ูู ุฃูู ููู
- ุญุณุงุจ ุงูููุช ุงููุชุจูู ุจุงูุณุงุนุงุช ุจุฏูุงู ูู ุงูุฏูุงุฆู

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ูุธุงู ุงูุชุฌุฑุจุฉ ุงูุฌุฏูุฏ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ุงูููู ุงูุฃูู (24 ุณุงุนุฉ):                         โ
โ  โ ุฌููุน ุงูููุฒุงุช ูุฌุงููุฉ                         โ
โ  โ ุฒุฑ "ุชุฎุทู" ูุชุงุญ                              โ
โ  โ ูุง ูุธูุฑ overlay ุงูุงุดุชุฑุงู                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ุจุนุฏ ุงูููู ุงูุฃูู:                               โ
โ  โ ุชุธูุฑ ุดุงุดุฉ ุงูุงุดุชุฑุงู                          โ
โ  โ ุฒุฑ "ุชุฎุทู" ุบูุฑ ูุชุงุญ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 2. ุชุญุณูู ุดุงุดุฉ ุงูุชูุงุก ุงูููุช (TimeUpOverlay)

**ุงูููู:** `src/components/subscription/TimeUpOverlay.tsx`

#### ุงูุชุตููู ุงูุฌุฏูุฏ:

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   ๐                     โ
โ                                          โ
โ         ๐ ุงุณุชูุชุนุช ุจุงูููู ุงููุฌุงูู!        โ
โ                                          โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                          โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ   โ     ๐ ุชุทููุฑ ูุณุชูุฑ ูุงุฏู!         โ   โ
โ   โ  โข ุฅุถุงูุฉ ูุบุงุช ุฌุฏูุฏุฉ ูุฑูุจุงู      โ   โ
โ   โ  โข ุชุญุฏูุซุงุช ุฃุณุจูุนูุฉ              โ   โ
โ   โ  โข ููุฒุงุช ุญุตุฑูุฉ ูููุดุชุฑููู        โ   โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                          โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ   โ         ๐ ุฎุตู 50%              โ   โ
โ   โ                                  โ   โ
โ   โ    ูกูขู ุฑ.ุณ  โ  ูฆู ุฑ.ุณ           โ   โ
โ   โ                                  โ   โ
โ   โ      โจ ุณูุฉ ูุงููุฉ โจ             โ   โ
โ   โ        (ุจุฎุท ูุจูุฑ)               โ   โ
โ   โ                                  โ   โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                          โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ   โ  ๐ ุงุดุชุฑู ุงูุขู                   โ   โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                          โ
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ   โ  โ ุชุฎุทู (ูู ุฃูู ููู ููุท)        โ   โ 
โ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ุงูุนูุงุตุฑ ุงูุฌุฏูุฏุฉ:
- **ุนููุงู ุฌุฏูุฏ:** "ุงุณุชูุชุนุช ุจุงูููู ุงููุฌุงูู! ๐"
- **ุจุทุงูุฉ ุงูุชุทููุฑ ุงููุงุฏู:** ุฑุณุงุฆู ุนู ุงููุบุงุช ุงูุฌุฏูุฏุฉ ูุงูุชุญุฏูุซุงุช
- **"ุณูุฉ ูุงููุฉ" ุจุฎุท ูุจูุฑ ุฌุฏุงู:** `text-3xl` ุฃู `text-4xl` ูุน ุชุฃุซูุฑุงุช
- **ุฒุฑ "ุชุฎุทู":** ูุธูุฑ ููุท ูู ุฃูู ููู (`isFirstDay`)
- **ุงูุณุนุฑ ุชููุงุฆู:** ูู ุงูุฌุณุฑ Android

---

### 3. ุชุญุฏูุซ ูุคูุช ุงูุชุฌุฑุจุฉ (TrialTimer)

**ุงูููู:** `src/components/subscription/TrialTimer.tsx`

- ุนุฑุถ ุงูููุช ุจุงูุณุงุนุงุช ุจุฏูุงู ูู ุงูุฏูุงุฆู
- ุชุบููุฑ ุงููุต ูู "ุชุฌุฑุจุฉ ูุฌุงููุฉ" ุฅูู "ูููู ุงููุฌุงูู"
- ุฅุถุงูุฉ ุฃููููุฉ ูุฏูุฉ ๐

---

## ุงูุชูุงุตูู ุงูุชูููุฉ

### ุงูููู 1: `src/hooks/usePremiumGate.ts`

```typescript
// ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:
const TRIAL_DURATION = 86400; // 24 ุณุงุนุฉ = 86400 ุซุงููุฉ
const FIRST_DAY_STORAGE_KEY = 'firstDayTrialStart';

// ุฅุถุงูุฉ ุญุณุงุจ ุฅุฐุง ูุงู ุฃูู ููู
const isFirstDay = useMemo(() => {
  const startTime = localStorage.getItem(FIRST_DAY_STORAGE_KEY);
  if (!startTime) return true;
  const elapsed = Date.now() - parseInt(startTime, 10);
  return elapsed < 86400000; // ุฃูู ูู 24 ุณุงุนุฉ
}, []);

// ุฏุงูุฉ ุชุฎุทู ุงูุฏูุน
const skipPayment = useCallback(() => {
  if (isFirstDay) {
    setIsTimeUp(false);
    // ุฅุนุงุฏุฉ ุถุจุท ุงููุคูุช ูุจููุฉ ุงูููู
  }
}, [isFirstDay]);

// ุชูุณูู ุงูููุช ุจุงูุณุงุนุงุช
const formattedTimeHours = useMemo(() => {
  const hours = Math.floor(timeLeft / 3600);
  const minutes = Math.floor((timeLeft % 3600) / 60);
  return `${hours}ุณ ${minutes}ุฏ`;
}, [timeLeft]);
```

### ุงูููู 2: `src/components/subscription/TimeUpOverlay.tsx`

```typescript
// ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ:

// 1. ุงุณุชุฎุฏุงู isFirstDay ูู usePremiumGate
const { isFirstDay, skipPayment } = usePremiumGate();

// 2. ุจุทุงูุฉ ุงูุชุทููุฑ ุงููุงุฏู
<div className="bg-primary/10 rounded-xl p-4 mb-4">
  <div className="flex items-center gap-2 mb-2">
    <Rocket size={20} className="text-primary" />
    <span className="font-bold">ุชุทููุฑ ูุณุชูุฑ ูุงุฏู!</span>
  </div>
  <ul className="text-sm text-muted-foreground space-y-1">
    <li>โข ุฅุถุงูุฉ ูุบุงุช ุฌุฏูุฏุฉ ูุฑูุจุงู</li>
    <li>โข ุชุญุฏูุซุงุช ุฃุณุจูุนูุฉ</li>
    <li>โข ููุฒุงุช ุญุตุฑูุฉ ูููุดุชุฑููู</li>
  </ul>
</div>

// 3. "ุณูุฉ ูุงููุฉ" ุจุฎุท ูุจูุฑ
<div className="text-3xl font-bold text-amber-300">
  โจ ุณูุฉ ูุงููุฉ โจ
</div>

// 4. ุฒุฑ ุงูุชุฎุทู (ุฃูู ููู ููุท)
{isFirstDay && (
  <Button
    onClick={skipPayment}
    variant="ghost"
    className="w-full text-white/60"
  >
    ุชุฎุทู โ (ูุฌุงูู ุงูููู ููุท)
  </Button>
)}
```

### ุงูููู 3: `src/components/subscription/TrialTimer.tsx`

```typescript
// ุนุฑุถ ุจุงูุณุงุนุงุช
const hours = Math.floor(timeLeft / 3600);
const minutes = Math.floor((timeLeft % 3600) / 60);

<span>๐ ูููู ุงููุฌุงูู: {hours}ุณ {minutes}ุฏ</span>
```

---

## ููุฎุต ุงููููุงุช ุงููุทููุจ ุชุนุฏูููุง

| ุงูููู | ุงูุชุบููุฑ |
|-------|---------|
| `src/hooks/usePremiumGate.ts` | ุชุบููุฑ ุงููุฏุฉ ูู 24 ุณุงุนุฉ + ุฅุถุงูุฉ `isFirstDay` + `skipPayment` |
| `src/components/subscription/TimeUpOverlay.tsx` | ุชุญุณูู ุงูุชุตููู + ุจุทุงูุฉ ุงูุชุทููุฑ + "ุณูุฉ ูุงููุฉ" ูุจูุฑุฉ + ุฒุฑ ุชุฎุทู |
| `src/components/subscription/TrialTimer.tsx` | ุนุฑุถ ุจุงูุณุงุนุงุช + ูุต ุฌุฏูุฏ |

---

## ุณููู ุงูุชุทุจูู ุงูุฌุฏูุฏ

```text
ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ:
โโโ ููุชุญ ุงูุชุทุจูู
โโโ ูุจุฏุฃ ุงูุนุฏ ุงูุชูุงุฒูู (24 ุณุงุนุฉ)
โโโ ูุฑู "๐ ูููู ุงููุฌุงูู: 23ุณ 59ุฏ"
โโโ ุฌููุน ุงูููุฒุงุช ูุชุงุญุฉ
โ
โโโ ุฅุฐุง ุถุบุท ุนูู ุงุดุชุฑุงู:
โ   โโโ ูุฑู ุดุงุดุฉ ุงูุงุดุชุฑุงู ุงููุญุณูุฉ
โ   โโโ ูุฑู "ุณูุฉ ูุงููุฉ" ุจุฎุท ูุจูุฑ
โ   โโโ ูุฑู ุงูุณุนุฑ ูู ุฌูุฌู ุจูุงู
โ   โโโ ูุฑู ุจุทุงูุฉ ุงูุชุทููุฑ ุงููุงุฏู
โ   โโโ ูุฑู ุฒุฑ "ุชุฎุทู" (ูุฃูู ุฃูู ููู)
โ
โโโ ุจุนุฏ 24 ุณุงุนุฉ:
    โโโ ูุธูุฑ overlay ุงูุงุดุชุฑุงู ุชููุงุฆูุงู
    โโโ ุฒุฑ "ุชุฎุทู" ุบูุฑ ููุฌูุฏ
    โโโ ูุฌุจ ุงูุงุดุชุฑุงู ูููุชุงุจุนุฉ
```
